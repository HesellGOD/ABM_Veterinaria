{% extends 'base.html' %}
{% load static %}

{% block title %}Registrar Visita - VetCare{% endblock %}

{% block content %}
<div class="container-fluid py-4">
  <!-- Contenedor principal del formulario -->
  <div class="mascota-form-card mx-auto shadow-lg rounded-4 overflow-hidden">
    <div class="row g-0">

      <!-- Bloque izquierdo: Imagen decorativa -->
      <div class="col-md-5 form-image-section d-flex align-items-center justify-content-center">
        <img src="{% static 'img/vetcare-visit.jpg' %}" alt="Visita veterinaria" class="img-cover">
      </div>

      <!-- Formulario -->
      <div class="col-md-7 bg-white p-5">
        <h2 class="mb-4 text-primary fw-bold text-center">ðŸ“… {{ modo }} Visita</h2>
        <form method="post" enctype="multipart/form-data" class="pupassure-form">
          {% csrf_token %}

          <!-- MASCOTA Y FECHA -->
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="{{ form.mascota.id_for_label }}" class="form-label fw-semibold text-secondary">Mascota</label>
              {{ form.mascota }}
              {% if form.mascota.errors %}
                <div class="invalid-feedback">{{ form.mascota.errors|join:", " }}</div>
              {% endif %}
            </div>
            <div class="col-md-6">
              <label for="{{ form.fecha.id_for_label }}" class="form-label fw-semibold text-secondary">Fecha</label>
              {{ form.fecha }}
              {% if form.fecha.errors %}
                <div class="invalid-feedback">{{ form.fecha.errors|join:", " }}</div>
              {% endif %}
            </div>
          </div>

          <!-- MOTIVO -->
          <div class="mb-3">
            <label for="{{ form.motivo.id_for_label }}" class="form-label fw-semibold text-secondary">Motivo de la visita</label>
            {{ form.motivo }}
            {% if form.motivo.errors %}
              <div class="invalid-feedback">{{ form.motivo.errors|join:", " }}</div>
            {% endif %}
          </div>

          <!-- TRATAMIENTO -->
          <div class="mb-3">
            <label for="{{ form.tratamiento.id_for_label }}" class="form-label fw-semibold text-secondary">Tratamiento</label>
            {{ form.tratamiento }}
            {% if form.tratamiento.errors %}
              <div class="invalid-feedback">{{ form.tratamiento.errors|join:", " }}</div>
            {% endif %}
          </div>

          <!-- PESO Y ESTADO -->
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="{{ form.peso.id_for_label }}" class="form-label fw-semibold text-secondary">Peso (kg)</label>
              {{ form.peso }}
              {% if form.peso.errors %}
                <div class="invalid-feedback">{{ form.peso.errors|join:", " }}</div>
              {% endif %}
            </div>
            <div class="col-md-6">
              <label for="{{ form.estado.id_for_label }}" class="form-label fw-semibold text-secondary">Estado</label>
              {{ form.estado }}
              {% if form.estado.errors %}
                <div class="invalid-feedback">{{ form.estado.errors|join:", " }}</div>
              {% endif %}
            </div>
          </div>

          <!-- OBSERVACIONES -->
          <div class="mb-4">
            <label for="{{ form.observaciones.id_for_label }}" class="form-label fw-semibold text-secondary">Observaciones</label>
            {{ form.observaciones }}
            {% if form.observaciones.errors %}
              <div class="invalid-feedback">{{ form.observaciones.errors|join:", " }}</div>
            {% endif %}
          </div>

          <!-- BOTONES -->
          <div class="d-flex justify-content-between mt-4">
            <a href="{% url 'visita_list' %}" class="btn btn-outline-secondary rounded-pill px-4">Volver</a>
            <button type="submit" class="btn btn-primary rounded-pill px-5">Guardar</button>
          </div>
        </form>
      </div>

    </div>
  </div>
</div>
{% endblock %}
